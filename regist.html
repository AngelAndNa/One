<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="css/public.css" />
		<link rel="stylesheet"  type="text/css" href="css/regist.css" />
		<title></title>
	</head>
	<body>
		<div class="nav">
			<div class="nav-box">
				<div class="nav-logo">
					<a href="#http://www.oneplus.cn" title="官网首页" alt="官网首页">
						<img src="img/logo.png"/>
					</a>
				</div>
				<div class="nav-center">
					<ul class="uls">
						<li class="one"><a href="http://www.oneplus.cn/product/oneplus5">OnePlus 5</a></li>
						<li class="lists market"><a href="http://store.oneplus.cn">商城</a></li>
						<li class="lists service"><a href="http://service.oneplus.cn">服务</a></li>
						<li class="lists blog"><a href="http://pr.oneplus.cn">博客</a></li>
						<li class="lists forum"><a href="http://www.oneplusbbs.com">论坛</a></li>
					</ul>
				</div>
				<div class="nav-right">
					<div class="icons search">
						<a class="search_a" href="#"></a>
						<div class="search_tit">
							<a class="search_icon" href="#"><img src="img/search.png"/></a>
							<input class="search_input" type="text" placeholder="搜索您的商品名称" />
						</div>
						<div class="search_list">
							<ul class="search_list_inner">
								<li><a class="search_pro" href="http://www.oneplus.cn/product">OnePlus 3T</a></li>
								<li><a class="search_pro" href="#">一加DASH闪充</a></li>
								<li><a class="search_pro" href="#">一加3T个性保护壳</a></li>
								<li><a class="search_pro" href="#">电子发票</a></li>
							</ul>
						</div>
					</div>
					<div class="icons cart">
						<a class="cart_a" href="http://store.oneplus.cn/cart"></a>
						<div class="no_goods">您的购物车里没有物品！</div>
					</div>
					<div class="icons user"><a href="login.html"></a></div>
				</div>
			</div>
		</div>
		<div class="middler">
			<div class="regist">
				<div class="main_regist">
					<form method="post" action="registCheck.php">
						<div class="regist_word">注册</div>
					<div class="regist_progress regist_user" >
						<input type="text" id="userName" name="userName" placeholder="手机"/>
						<div class="userName_tit">手机号有误</div>
					</div>
					<div class="regist_progress regist_pass">
						<input type="text" id="userPass" name="userPass" placeholder="密码6-16位，数字和字母两种"/>
						<div class="userPass_tit">密码不符合要求</div>
					</div>
					<div class="regist_progress true_pass">
						<input type="text" id="truePass" placeholder="确认密码"/>
						<div class="rePass_tit">两次密码不一致</div>
					</div>
					<div class="regist_check">
						<div class="tk"> >> </div> 
						<input type="text" placeholder="请按住滑块，拖动到最右边"/>
					</div>
					<div class="regist_tit">
						<span>注册一加，即表示您同意一加的</span>
						<a href="http://account.oneplus.cn/regist">用户协议</a>
					</div>
					<input class="regist_trues" type="submit" value="注册"/>
					<div class="login">
						<a href="login.html">登录</a>
						<div class="circle"></div>
					</div>
					</form>
				</div>
				
				<div class="other_login">
					<div class="other_word">选择其他方式登录</div>
					<a class="qq_login" href="http://account.oneplus.cn/qqlogin">
						<span></span>
						<span>QQ快捷登录</span></a>
					<a class="wb_login" href="http://account.oneplus.cn/wblogin">
						<span></span>
						<span>微博快捷登录</span>
					</a>
				</div>
			</div>
		</div>
		<div class="footer">
			<div class="ints">
				<div class="about">
					<p>一加产品</p>
					<ul>
						<li>OnePlus 5</li>
						<li>OnePlus 3T</li>
						<li>OnePlus 3</li>
					</ul>
				</div>
				<div class="about">
					<p>关于一加</p>
					<ul>
						<li>了解一加</li>
						<li>加入一加</li>
						<li>H2OS</li>
					</ul>
				</div>
				<div class="about">
					<p>服务支持</p>
					<ul>
						<li>自助服务</li>
						<li>技术支持</li>
						<li>售后服务</li>
						<li>一加加多保</li>
					</ul>
				</div>
			</div>
			<div class="hot-line">
				<a href="#"><h1>400-888-1111</h1></a>
				<a href="#">在线客服</a>
				<a href="#">周一至周日9:00-22:00</a>
			</div>
		</div>
		<div class="bottom">
			<div class="bottoms">
				<span class="sp">© 2013-2017 OnePlus. All Rights Reserved. (粤ICP备13088308号-1)</span>
				<a class="cnnic" href="#">
					<img class="cn" src="img/cnnic.png"/>
				</a>
				<a class="record" href="#">
					<img class="re"src="img/record.png"/>
					<span class="rec">粤公网安备 44030402000178号 </span>
				</a>
				<a class="china" href="#">
					<span class="cha">Change location</span>
					<img class="ch"src="img/china.png"/>
				</a>
			</div>
		</div>
	</body>
</html>

<script type="text/javascript" src="js/jquery-1.8.3.min.js" ></script>
<script type="text/javascript" src="js/public.js" ></script>
<script type="text/javascript" src="js/cookieTools.js" ></script>
<script type="text/javascript">	
$(function(){
	$("#userName").blur(function(){
		var userStr=$("#userName")[0].value;
		//11为数字，第一位为1，第二位为3,4,5,7,8，以数字结尾
		var reg=/^1[34578][0-9]{9}$/;
		//判断是否正确
		if(!reg.test(userStr)){
			$($(".userName_tit")[0]).css({opacity:"1"});
		}
//		else{
//			//数字，字母，下划线，@，.@和.之间不能为空 ,不能以0开头,以.com,.cn,.com.cn结尾
//			var reg=/^[a-z1-9_]+@\w+[\.com\.cn\com.cn]$/;
//			//判断是否正确
//			if(!reg.test(emailStr)){
//				$($(".userName_tit")[0]).css({opacity:"1"});
//				$($(".userName_tit")[0]).val("邮箱有误");
//			}	
	});
	$("#userPass").blur(function(){
		var userPassStr=$("#userPass")[0].value;	
		//6-16位，数字和字母两种
//		var reg=/(^[0-9]+$)(^[A-z]+$)(^[^A-z0-9]+$)^.{6,16}$/;
		var reg=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,10}$/;
//		\x^21-7e字符
		//判断是否正确
		if(!reg.test(userPassStr)){
			$($(".userPass_tit")[0]).css({opacity:"1"});
		}
	});
	$("#truePass").blur(function(){
		var userPassStr=$("#userPass")[0].value;	
		var rePassStr=$("#truePass").val();
		//判断是否一致
		if(rePassStr!=userPassStr){
			$($(".rePass_tit")[0]).css({opacity:"1"});
		}
	});	
	
	$(".regist_trues").click(function(){
		$.ajax({
			type:"post",
			url:"php/registCheck.php",
			async:true,
			data:{
				userName:$("#userName").val(),
				userPass:$("#userPass").val()
			},
			success:function(data){
				if(data=="1"){
					//1、保存cookie
//					addCookie("userName",$("#userName").val(),7);
//					addCookie("userPass",$("#userPass").val(),7);
					//2、跳转到登录页面
					location.href="login.html";
				}else{
					alert("用户名已存在");
					
				}
			}
		});
	});
});	
</script>


